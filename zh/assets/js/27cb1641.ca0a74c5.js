(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{107:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return l})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),i=(n(0),n(263)),o={titile:"Overview"},l={unversionedId:"capability-references/overview",id:"version-v0.3.5/capability-references/overview",isDocsHomePage:!1,title:"overview",description:"The Reference Documentation of Capabilities",source:"@site/versioned_docs/version-v0.3.5/capability-references/overview.md",slug:"/capability-references/overview",permalink:"/zh/docs/v0.3.5/capability-references/overview",editUrl:"https://github.com/oam-dev/kubevela.io/edit/main/versioned_docs/version-v0.3.5/capability-references/overview.md",version:"v0.3.5",lastUpdatedBy:"guoxudong",lastUpdatedAt:1616664342,formattedLastUpdatedAt:"3/25/2021",sidebar:"version-v0.3.5/docs",previous:{title:"vela_cap",permalink:"/zh/docs/v0.3.5/cli-references/vela_cap"},next:{title:"webservice",permalink:"/zh/docs/v0.3.5/capability-references/webservice"}},c=[{value:"The Reference Documentation of Capabilities",id:"the-reference-documentation-of-capabilities",children:[]},{value:"Using Browser",id:"using-browser",children:[]},{value:"Using Terminal",id:"using-terminal",children:[]},{value:"For Built-in Capabilities",id:"for-built-in-capabilities",children:[]}],s={toc:c};function u(e){var t=e.components,o=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},s,o,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"the-reference-documentation-of-capabilities"},"The Reference Documentation of Capabilities"),Object(i.b)("p",null,"In this documentation, we will show how to check the detailed schema of a given capability (i.e. workload type or trait). "),Object(i.b)("p",null,'This may sound challenging because every capability is a "plug-in" in KubeVela (even for the built-in ones), also, it\'s by design that KubeVela allows platform administrators to modify the capability templates at any time. In this case, do we need to manually write documentation for every newly installed capability? And how can we ensure those documentations for the system is up-to-date?'),Object(i.b)("h2",{id:"using-browser"},"Using Browser"),Object(i.b)("p",null,'Actually, as a important part of its "extensibility" design, KubeVela will always ',Object(i.b)("strong",{parentName:"p"},"automatically generate")," reference documentation for every workload type or trait registered in your Kubernetes cluster, based on the template in its definition of course. This feature works for any capability: either built-in ones or your own workload types/traits."),Object(i.b)("p",null,"Thus, as an end user, the only thing you need to do is:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-console"},"$ vela show WORKLOAD_TYPE or TRAIT\n")),Object(i.b)("p",null,"This command will automatically open the reference documentation for given workload type or trait in your default browser."),Object(i.b)("p",null,"Let's take ",Object(i.b)("inlineCode",{parentName:"p"},"$ vela show webservice")," as example. The detailed schema documentation for ",Object(i.b)("inlineCode",{parentName:"p"},"Web Service")," workload type will show up immediately as below:"),Object(i.b)("p",null,Object(i.b)("img",{src:n(294).default})),Object(i.b)("p",null,"Note that there's in the section named ",Object(i.b)("inlineCode",{parentName:"p"},"Specification"),", it even provides you with a full sample for the usage of this workload type with a fake name ",Object(i.b)("inlineCode",{parentName:"p"},"my-service-name"),"."),Object(i.b)("p",null,"Similarly, we can also do ",Object(i.b)("inlineCode",{parentName:"p"},"$ vela show autoscale"),":"),Object(i.b)("p",null,Object(i.b)("img",{src:n(295).default})),Object(i.b)("p",null,"With these auto-generated reference documentations, we could easily complete the application description by simple copy-paste, for example:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-yaml"},'name: helloworld\n\nservices:\n  backend: # copy-paste from the webservice ref doc above\n    image: oamdev/testapp:v1\n    cmd: ["node", "server.js"]\n    port: 8080\n    cpu: "0.1"\n\n    autoscale: # copy-paste and modify from autoscaler ref doc above\n      min: 1\n      max: 8\n      cron:\n        startAt:  "19:00"\n        duration: "2h"\n        days:     "Friday"\n        replicas: 4\n        timezone: "America/Los_Angeles"\n')),Object(i.b)("h2",{id:"using-terminal"},"Using Terminal"),Object(i.b)("p",null,"This reference doc feature also works for terminal-only case. For example:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-shell"},"$ vela show webservice --no-website\n# Properties\n+-------+----------------------------------------------------------------------------------+---------------+----------+---------+\n| NAME  |                                   DESCRIPTION                                    |     TYPE      | REQUIRED | DEFAULT |\n+-------+----------------------------------------------------------------------------------+---------------+----------+---------+\n| cmd   | Commands to run in the container                                                 | []string      | false    |         |\n| env   | Define arguments by using environment variables                                  | [[]env](#env) | false    |         |\n| image | Which image would you like to use for your service                               | string        | true     |         |\n| port  | Which port do you want customer traffic sent to                                  | int           | true     |      80 |\n| cpu   | Number of CPU units for the service, like `0.5` (0.5 CPU core), `1` (1 CPU core) | string        | false    |         |\n+-------+----------------------------------------------------------------------------------+---------------+----------+---------+\n\n\n## env\n+-----------+-----------------------------------------------------------+-------------------------+----------+---------+\n|   NAME    |                        DESCRIPTION                        |          TYPE           | REQUIRED | DEFAULT |\n+-----------+-----------------------------------------------------------+-------------------------+----------+---------+\n| name      | Environment variable name                                 | string                  | true     |         |\n| value     | The value of the environment variable                     | string                  | false    |         |\n| valueFrom | Specifies a source the value of this var should come from | [valueFrom](#valueFrom) | false    |         |\n+-----------+-----------------------------------------------------------+-------------------------+----------+---------+\n\n\n### valueFrom\n+--------------+--------------------------------------------------+-------------------------------+----------+---------+\n|     NAME     |                   DESCRIPTION                    |             TYPE              | REQUIRED | DEFAULT |\n+--------------+--------------------------------------------------+-------------------------------+----------+---------+\n| secretKeyRef | Selects a key of a secret in the pod's namespace | [secretKeyRef](#secretKeyRef) | true     |         |\n+--------------+--------------------------------------------------+-------------------------------+----------+---------+\n\n\n#### secretKeyRef\n+------+------------------------------------------------------------------+--------+----------+---------+\n| NAME |                           DESCRIPTION                            |  TYPE  | REQUIRED | DEFAULT |\n+------+------------------------------------------------------------------+--------+----------+---------+\n| name | The name of the secret in the pod's namespace to select from     | string | true     |         |\n| key  | The key of the secret to select from. Must be a valid secret key | string | true     |         |\n+------+------------------------------------------------------------------+--------+----------+---------+\n")),Object(i.b)("h2",{id:"for-built-in-capabilities"},"For Built-in Capabilities"),Object(i.b)("p",null,"Note that for all the built-in capabilities, we already published their reference docs below based on the same doc generation mechanism."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Workload Types",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"./webservice"},"webservice")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"./task"},"task")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"./worker"},"worker")))),Object(i.b)("li",{parentName:"ul"},"Traits",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"./route"},"route")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"./autoscale"},"autoscale")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"./rollout"},"rollout")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"./metrics"},"metrics")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"./scaler"},"scaler"))))))}u.isMDXComponent=!0},263:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return d}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),u=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},b=function(e){var t=u(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),b=u(n),m=a,d=b["".concat(o,".").concat(m)]||b[m]||p[m]||i;return n?r.a.createElement(d,l(l({ref:t},s),{},{components:n})):r.a.createElement(d,l({ref:t},s))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var s=2;s<i;s++)o[s]=n[s];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},294:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/vela_show_webservice-9e22e872359a0f537e9f7666227d8a36.jpg"},295:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/vela_show_autoscale-998dc0108c9f9650ded3dda5cf36f725.jpg"}}]);